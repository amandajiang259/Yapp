{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/HOME/Downloads/swe_semester_project-authentication/swe_semester_project-authentication/yapp/app/authentication/firebase.ts"],"sourcesContent":["import { initializeApp } from 'firebase/app';\nimport { getAuth, createUserWithEmailAndPassword, signInWithEmailAndPassword, signOut, sendPasswordResetEmail } from 'firebase/auth';\n\n// Your web app's Firebase configuration\nconst firebaseConfig = {\n  apiKey: process.env.NEXT_PUBLIC_FIREBASE_API_KEY,\n  authDomain: process.env.NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN,\n  projectId: process.env.NEXT_PUBLIC_FIREBASE_PROJECT_ID,\n  storageBucket: process.env.NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET,\n  messagingSenderId: process.env.NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID,\n  appId: process.env.NEXT_PUBLIC_FIREBASE_APP_ID\n};\n\n// Initialize Firebase\nconst app = initializeApp(firebaseConfig);\nconst auth = getAuth(app);\n\nexport { auth, createUserWithEmailAndPassword, signInWithEmailAndPassword, signOut, sendPasswordResetEmail }; "],"names":[],"mappings":";;;AAKU;AALV;AACA;;;AAEA,wCAAwC;AACxC,MAAM,iBAAiB;IACrB,MAAM;IACN,UAAU;IACV,SAAS;IACT,aAAa;IACb,iBAAiB;IACjB,KAAK;AACP;AAEA,sBAAsB;AACtB,MAAM,MAAM,CAAA,GAAA,uLAAA,CAAA,gBAAa,AAAD,EAAE;AAC1B,MAAM,OAAO,CAAA,GAAA,6MAAA,CAAA,UAAO,AAAD,EAAE","debugId":null}},
    {"offset": {"line": 47, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/HOME/Downloads/swe_semester_project-authentication/swe_semester_project-authentication/yapp/app/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect, useState } from \"react\";\nimport { auth, createUserWithEmailAndPassword, signInWithEmailAndPassword, signOut, sendPasswordResetEmail } from \"./authentication/firebase\";\nimport { useRouter } from \"next/navigation\";\nimport { User } from 'firebase/auth';\n\nexport default function Home() {\n  const [user, setUser] = useState<User | null>(null);\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [isRegistering, setIsRegistering] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n  const [successMessage, setSuccessMessage] = useState<string | null>(null);\n  const [isForgotPassword, setIsForgotPassword] = useState(false);\n  const router = useRouter();\n\n  useEffect(() => {\n    const unsubscribe = auth.onAuthStateChanged((user: User | null) => {\n      if (user) {\n        setUser(user);\n      } else {\n        setUser(null);\n      }\n    });\n\n    return () => unsubscribe();\n  }, []);\n\n  const handleAuth = async (e: React.FormEvent) => {\n    e.preventDefault();\n    setError(null);\n    try {\n      if (isRegistering) {\n        await createUserWithEmailAndPassword(auth, email, password);\n      } else {\n        await signInWithEmailAndPassword(auth, email, password);\n      }\n      router.push(\"/dashboard\");\n    } catch (error: any) {\n      console.error(\"Auth Error:\", error);\n      if (error.code === 'auth/invalid-credential') {\n        setError(\"Invalid email or password. Please register an account first if you haven't already.\");\n      } else if (error.code === 'auth/user-not-found') {\n        setError(\"No account found with this email. Please register first.\");\n      } else if (error.code === 'auth/wrong-password') {\n        setError(\"Incorrect password. Please try again.\");\n      } else if (error.code === 'auth/weak-password') {\n        setError(\"Password should be at least 6 characters long. Please choose a stronger password.\");\n      } else if (error.code === 'auth/email-already-in-use') {\n        setError(\"This email already has an account associated with it. Please log into the account. If you forgot your password, click 'Forgot Password'.\");\n      } else {\n        setError(error.message || \"An error occurred during authentication\");\n      }\n    }\n  };\n\n  const handleLogout = async () => {\n    try {\n      await signOut(auth);\n      console.log(\"User logged out\");\n    } catch (error) {\n      console.error(\"Logout Error:\", error);\n    }\n  };\n\n  const handleForgotPassword = async (e: React.FormEvent) => {\n    e.preventDefault();\n    setError(null);\n    setSuccessMessage(null);\n    try {\n      await sendPasswordResetEmail(auth, email);\n      setSuccessMessage(\"Password reset email sent! Please check your inbox.\");\n      setIsForgotPassword(false);\n    } catch (error: any) {\n      console.error(\"Password Reset Error:\", error);\n      if (error.code === 'auth/user-not-found') {\n        setError(\"No account found with this email. Please register first.\");\n      } else {\n        setError(error.message || \"An error occurred while sending the reset email\");\n      }\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-blue-500 via-purple-500 to-blue-600 flex items-center justify-center p-4\">\n      <div className=\"w-full max-w-md\">\n        <div className=\"bg-white rounded-2xl shadow-xl p-8\">\n          <div className=\"text-center mb-8\">\n            <h1 className=\"text-3xl font-bold text-gray-800 mb-2\">Yapp</h1>\n            <p className=\"text-gray-600\">Connect with your friends</p>\n          </div>\n\n          {user ? (\n            <div className=\"text-center\">\n              <p className=\"text-gray-800 mb-4\">Welcome, {user.email}</p>\n              <button\n                onClick={handleLogout}\n                className=\"w-full py-3 px-4 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors\"\n              >\n                Logout\n              </button>\n            </div>\n          ) : (\n            <form onSubmit={isForgotPassword ? handleForgotPassword : handleAuth} className=\"space-y-6\">\n              {error && (\n                <div className=\"p-4 bg-red-50 border border-red-200 text-red-700 rounded-lg text-sm\">\n                  {error}\n                </div>\n              )}\n              {successMessage && (\n                <div className=\"p-4 bg-green-50 border border-green-200 text-green-700 rounded-lg text-sm\">\n                  {successMessage}\n                </div>\n              )}\n              <div>\n                <label htmlFor=\"email\" className=\"block text-sm font-medium text-gray-700 mb-1\">\n                  Email\n                </label>\n                <input\n                  type=\"email\"\n                  id=\"email\"\n                  value={email}\n                  onChange={(e) => setEmail(e.target.value)}\n                  className=\"w-full px-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors\"\n                  placeholder=\"Enter your email\"\n                  required\n                />\n              </div>\n              {!isForgotPassword && (\n                <div>\n                  <label htmlFor=\"password\" className=\"block text-sm font-medium text-gray-700 mb-1\">\n                    Password\n                  </label>\n                  <input\n                    type=\"password\"\n                    id=\"password\"\n                    value={password}\n                    onChange={(e) => setPassword(e.target.value)}\n                    className=\"w-full px-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors\"\n                    placeholder=\"Enter your password\"\n                    required\n                  />\n                </div>\n              )}\n              <button\n                type=\"submit\"\n                className=\"w-full py-3 px-4 bg-gradient-to-r from-blue-500 to-purple-500 text-white rounded-lg hover:from-blue-600 hover:to-purple-600 transition-colors font-medium\"\n              >\n                {isForgotPassword ? \"Send Reset Link\" : (isRegistering ? \"Create Account\" : \"Sign In\")}\n              </button>\n              <div className=\"space-y-3\">\n                <button\n                  type=\"button\"\n                  onClick={() => setIsRegistering(!isRegistering)}\n                  className=\"w-full text-sm text-blue-600 hover:text-blue-700 font-medium\"\n                >\n                  {isRegistering\n                    ? \"Already have an account? Sign in\"\n                    : \"Don't have an account? Create one\"}\n                </button>\n                {!isRegistering && !isForgotPassword && (\n                  <button\n                    type=\"button\"\n                    onClick={() => setIsForgotPassword(true)}\n                    className=\"w-full text-sm text-blue-600 hover:text-blue-700 font-medium\"\n                  >\n                    Forgot your password?\n                  </button>\n                )}\n                {isForgotPassword && (\n                  <button\n                    type=\"button\"\n                    onClick={() => setIsForgotPassword(false)}\n                    className=\"w-full text-sm text-blue-600 hover:text-blue-700 font-medium\"\n                  >\n                    Back to Sign In\n                  </button>\n                )}\n              </div>\n            </form>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n}"],"names":[],"mappings":"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","debugId":null}}]
}